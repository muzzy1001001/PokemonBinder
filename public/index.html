<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pokemon Binder</title>
    <link rel="stylesheet" href="/styles.css" />
  </head>
  <body>
    <div class="binder-rings" aria-hidden="true"></div>

    <div class="app-shell">
      <aside class="sidebar" aria-label="Sidebar Navigation">
        <div class="sidebar-brand">
          <p class="sidebar-brand-kicker">Trainer Toolkit</p>
          <h2>Pokemon Binder</h2>
        </div>

        <div class="sidebar-group">
          <p class="sidebar-group-title">Dashboard</p>
          <button
            class="sidebar-link is-active"
            type="button"
            data-view="dashboard"
            data-title="Binder Dashboard"
            data-subtitle="Track your personal collection like a real binder."
          >
            <span>Dashboard</span>
          </button>
        </div>

        <div class="sidebar-group">
          <p class="sidebar-group-title">Contents</p>
          <button
            class="sidebar-link"
            type="button"
            data-view="finder"
            data-title="Card Finder"
            data-subtitle="Search by name, set, and sort to catalog your collection."
          >
            <span>Card Finder</span>
          </button>
          <button
            class="sidebar-link"
            type="button"
            data-view="dashboard"
            data-title="My Binder"
            data-subtitle="Your full monitored collection, quantities, conditions, and notes."
          >
            <span>My Binder</span>
          </button>
          <button
            class="sidebar-link"
            type="button"
            data-view="gacha"
            data-title="Gacha Draw"
            data-subtitle="Open virtual booster packs and add pulls to your binder."
          >
            <span>Gacha Draw</span>
          </button>
        </div>
      </aside>

      <main class="workspace">
        <header class="workspace-header">
          <p class="workspace-kicker">Personal Virtual Binder</p>
          <h1 id="workspaceTitle">Binder Dashboard</h1>
          <p id="workspaceSubtitle">
            Track your personal collection like a real binder.
          </p>
        </header>

        <section id="view-dashboard" class="view is-active" aria-label="Binder Dashboard">
          <section class="panel panel-binder">
            <div class="panel-heading">
              <h2>My Binder</h2>
              <p id="binderStats">0 unique | 0 total cards</p>
            </div>

            <div class="controls controls-binder">
              <label>
                Search binder
                <input
                  id="binderSearch"
                  type="search"
                  placeholder="Name, set, or notes"
                />
              </label>

              <label>
                Sort binder
                <select id="binderSort">
                  <option value="updated_desc">Recently Updated</option>
                  <option value="updated_asc">Oldest Updated</option>
                  <option value="name_asc">Name A-Z</option>
                  <option value="name_desc">Name Z-A</option>
                  <option value="qty_desc">Highest Quantity</option>
                  <option value="set_asc">Set Name</option>
                </select>
              </label>

              <label>
                Condition
                <select id="binderCondition">
                  <option value="">All conditions</option>
                  <option value="Mint">Mint</option>
                  <option value="Near Mint">Near Mint</option>
                  <option value="Lightly Played">Lightly Played</option>
                  <option value="Moderately Played">Moderately Played</option>
                  <option value="Heavily Played">Heavily Played</option>
                  <option value="Damaged">Damaged</option>
                </select>
              </label>

              <button id="clearBinder" type="button" class="ghost-btn">
                Clear Binder
              </button>
            </div>

            <div id="binderList" class="binder-list"></div>
          </section>
        </section>

        <section id="view-finder" class="view" aria-label="Card Finder">
          <section class="panel">
            <div class="panel-heading">
              <h2>Card Finder</h2>
              <p>Powered by Pokemon TCG data source</p>
            </div>

            <div class="controls controls-finder">
              <label>
                Search Pokemon
                <input
                  id="searchInput"
                  type="search"
                  placeholder="Try Pikachu, Charizard, Eevee..."
                />
              </label>

              <label>
                Pack / Set
                <select id="setFilter">
                  <option value="">All packs</option>
                </select>
              </label>

              <label>
                Sort by
                <select id="sortSelect">
                  <option value="name_asc">Name A-Z</option>
                  <option value="name_desc">Name Z-A</option>
                  <option value="hp_desc">Highest HP</option>
                  <option value="hp_asc">Lowest HP</option>
                  <option value="newest">Newest Set</option>
                  <option value="oldest">Oldest Set</option>
                </select>
              </label>
            </div>

            <div class="result-bar">
              <p id="resultMeta">Loading cards...</p>
              <div class="pager">
                <button id="prevPage" type="button">Previous</button>
                <span id="pageInfo">Page 1</span>
                <button id="nextPage" type="button">Next</button>
              </div>
            </div>

            <div id="cardGrid" class="card-grid"></div>
          </section>
        </section>

        <section id="view-gacha" class="view" aria-label="Gacha Draw">
          <section class="panel panel-gacha">
            <div class="panel-heading">
              <h2>Booster Gacha</h2>
              <p>Open virtual packs by set and add your pulls to binder.</p>
            </div>

            <div class="controls controls-gacha">
              <label>
                Choose Pack Set
                <select id="gachaSetSelect"></select>
              </label>

              <label>
                Packs to open
                <select id="gachaPackCount">
                  <option value="1">1 pack</option>
                  <option value="2">2 packs</option>
                  <option value="3">3 packs</option>
                  <option value="5">5 packs</option>
                </select>
              </label>

              <button id="addPullsBtn" type="button" class="ghost-btn" disabled>
                Add Pulls to Binder
              </button>
            </div>

            <div class="gacha-stage">
              <button id="gachaPackCard" class="gacha-pack" type="button">
                <div class="gacha-pack-visual" aria-hidden="true">
                  <img id="gachaPackArt" class="gacha-pack-art" alt="Booster pack art" />
                  <img id="gachaPackLogo" class="gacha-pack-logo" alt="Pack logo" />
                </div>

                <div id="gachaCutLayer" class="gacha-cut-layer">
                  <svg id="gachaCutSvg" preserveAspectRatio="none">
                    <path id="gachaCutPath" class="gacha-cut-path" d=""></path>
                  </svg>
                  <p class="gacha-cut-hint">Draw a cut line across the wrapper</p>
                </div>
              </button>
              <div class="gacha-pack-meta">
                <p id="gachaPackSeries" class="gacha-pack-series"></p>
                <p id="gachaPackName" class="gacha-pack-name"></p>
                <p class="gacha-pack-cta">Cut to open</p>
              </div>
              <p id="gachaStatus" class="gacha-status">Pick a set, then open a pack.</p>
            </div>

            <div id="gachaResult" class="gacha-result"></div>
          </section>
        </section>
      </main>
    </div>

    <template id="emptyStateTemplate">
      <div class="empty-state">
        <p>No cards found. Try another search or set.</p>
      </div>
    </template>

    <div id="cardModal" class="card-modal" aria-hidden="true">
      <div class="card-modal-backdrop" data-close-modal></div>
      <section class="card-float" role="dialog" aria-modal="true" aria-label="Card preview">
        <div id="modalTiltStage" class="tilt-stage">
          <div id="modalTiltCard" class="tilt-card">
            <div id="modalFlipCard" class="modal-flip-card is-revealed">
              <div class="modal-card-face modal-card-back">
                <img
                  id="modalCardBackImage"
                  src="/cardback.jpg"
                  alt="Pokemon card back"
                  draggable="false"
                />
              </div>
              <div class="modal-card-face modal-card-front">
                <img
                  id="modalCardFrontImage"
                  src=""
                  alt="Pokemon card preview"
                  draggable="false"
                />
              </div>
            </div>
          </div>
        </div>
        <p id="modalHint" class="float-hint">Hold and drag to tilt. Press Esc to close.</p>
        <div id="modalRevealInfo" class="modal-reveal-info" hidden>
          <p id="modalRevealCounter" class="modal-reveal-counter"></p>
          <p id="modalRevealRarity" class="modal-reveal-rarity"></p>
        </div>
      </section>
    </div>

    <script src="/app.js"></script>
  </body>
</html>
