<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pokemon Binder</title>
    <link rel="stylesheet" href="/styles.css" />
  </head>
  <body>
    <div class="binder-rings" aria-hidden="true"></div>

    <div class="app-shell">
      <aside class="sidebar" aria-label="Sidebar Navigation">
        <div class="sidebar-brand">
          <p class="sidebar-brand-kicker">yawn's</p>
          <h2>Pokemon TCG</h2>
        </div>

        <div class="sidebar-group">
          <p class="sidebar-group-title">Dashboard</p>
          <button
            class="sidebar-link is-active"
            type="button"
            data-view="dashboard"
            data-title="Trainer Dashboard"
            data-subtitle=""
          >
            <span>Profile</span>
          </button>
        </div>

        <div class="sidebar-group">
          <p class="sidebar-group-title">Contents</p>
          <button
            class="sidebar-link"
            type="button"
            data-view="finder"
            data-title="Card Finder"
            data-subtitle=""
          >
            <span>Card Finder</span>
          </button>
          <button
            class="sidebar-link"
            type="button"
            data-view="binder"
            data-title="Collection Goal"
            data-subtitle=""
          >
            <span>Collection Goal</span>
          </button>
          <button
            class="sidebar-link"
            type="button"
            data-view="inventory"
            data-title="Inventory"
            data-subtitle=""
          >
            <span>Inventory</span>
          </button>
          <button
            class="sidebar-link"
            type="button"
            data-view="pokedex"
            data-title="Pokecards"
            data-subtitle=""
          >
            <span>Pokecards</span>
          </button>
          <button
            class="sidebar-link"
            type="button"
            data-view="achievements"
            data-title="Achievements"
            data-subtitle=""
          >
            <span>Achievements</span>
          </button>
          <button
            class="sidebar-link"
            type="button"
            data-view="gacha"
            data-title="Gacha Draw"
            data-subtitle=""
          >
            <span>Gacha Draw</span>
          </button>
        </div>

        <div class="sidebar-group sidebar-friends-group">
          <p class="sidebar-group-title">Friends</p>
          <section class="sidebar-friends-section">
            <div class="sidebar-friends-head">
              <p class="sidebar-friends-title">Trainer Circle</p>
              <p id="trainerFriendCount" class="trainer-friend-count">0 added</p>
            </div>

            <div class="trainer-friend-form sidebar-friend-form">
              <input
                id="friendTrainerIdInput"
                type="text"
                placeholder="Trainer ID (PK-1234-5678)"
                maxlength="20"
              />
              <input
                id="friendIgnInput"
                type="text"
                placeholder="Friend IGN (optional)"
                maxlength="30"
              />
              <button id="addFriendBtn" type="button">Add Friend</button>
            </div>

            <div id="trainerFriendList" class="trainer-friend-list"></div>
          </section>
        </div>

        <div class="sidebar-group sidebar-developer-group">
          <button
            class="sidebar-link"
            type="button"
            data-view="developer"
            data-title="About Developer"
            data-subtitle=""
          >
            <span>About Developer</span>
          </button>
        </div>
      </aside>

      <main class="workspace">
        <header class="workspace-header">
          <h1 id="workspaceTitle">Trainer Dashboard</h1>
          <p id="workspaceSubtitle"></p>
        </header>

        <section id="view-dashboard" class="view is-active" aria-label="Trainer Dashboard">
          <section class="panel panel-dashboard">
            <div class="panel-heading">
              <h2>Profile</h2>
            </div>

            <div class="dashboard-grid">
              <article class="dashboard-card dashboard-profile-card">
                <div class="trainer-profile-row">
                  <button id="trainerAvatarBtn" type="button" class="trainer-avatar-btn" aria-label="Change profile photo">
                    <span id="trainerAvatarInitial" class="trainer-avatar-initial">?</span>
                    <img id="trainerAvatarImage" class="trainer-avatar-image" alt="Trainer profile" hidden />
                  </button>
                  <div class="trainer-profile-meta">
                    <p class="trainer-profile-kicker">Trainer ID</p>
                    <p id="trainerUid" class="trainer-profile-id">PK-00000000</p>
                  </div>
                </div>
                <input id="trainerAvatarInput" type="file" accept="image/*" hidden />
                <div class="trainer-ign-row">
                  <p class="trainer-profile-kicker">IGN</p>
                  <p id="trainerIgnDisplay" class="trainer-ign-display">Unknown Trainer</p>
                  <button id="trainerIgnEditBtn" type="button" class="trainer-ign-edit" aria-label="Edit IGN">âœŽ</button>
                </div>

              </article>

              <article class="dashboard-card dashboard-stat-card dashboard-cards-owned-card">
                <h3>Cards Owned</h3>
                <p id="dashboardCardsOwned" class="dashboard-stat-value">0</p>
                <p id="dashboardUniqueOwned" class="dashboard-stat-sub">0 unique cards</p>
              </article>

              <article class="dashboard-card dashboard-stat-card dashboard-coins-card">
                <h3>Total Card Value</h3>
                <p id="dashboardNetWorth" class="dashboard-stat-value dashboard-coin-value">
                  <img src="/pokecoin.gif" alt="PokeCoin" class="dashboard-coin-icon" />
                  <span id="dashboardNetWorthValue">0</span>
                </p>
              </article>

              <article class="dashboard-card dashboard-stat-card dashboard-packs-card">
                <h3>Packs Opened</h3>
                <p id="dashboardPacksOpened" class="dashboard-stat-value">0</p>
              </article>

              <article class="dashboard-card dashboard-stat-card dashboard-badges-card">
                <h3>Badge Showcase</h3>
                <div class="cards-owned-badge-head">
                  <p id="dashboardBadgeMeta" class="dashboard-stat-sub">Pin unlocked badges to show here.</p>
                  <button id="dashboardBadgeCustomizeBtn" type="button" class="ghost-btn">Customize</button>
                </div>
                <div id="dashboardBadgeGrid" class="cards-owned-badge-grid"></div>
              </article>

              <article class="dashboard-card dashboard-stat-card dashboard-godpacks-card">
                <h3>God Packs Opened</h3>
                <p id="dashboardGodPacks" class="dashboard-stat-value">0</p>
              </article>
            </div>

            <section class="dashboard-top-showcase">
              <div class="panel-heading panel-heading-compact">
                <h3>Favorite Cards</h3>
                <p id="dashboardFavoriteMeta">Pin favorite cards from Pokecards, Binder, or Top Value.</p>
              </div>
              <div id="dashboardFavoriteCards" class="dashboard-top-grid"></div>
            </section>

            <section class="dashboard-top-showcase">
              <div class="panel-heading panel-heading-compact">
                <h3>Highest POKECOIN Cards</h3>
                <p id="dashboardTopMeta">Highest POKECOIN value cards in your active binder.</p>
              </div>
              <div id="dashboardTopCards" class="dashboard-top-grid"></div>
            </section>

          </section>
        </section>

        <section id="view-binder" class="view" aria-label="Collection Goal">
          <section class="panel panel-binder">
            <div class="panel-heading">
              <p id="binderStats">0 / 0 obtained | 0 total copies</p>
            </div>

            <section class="binder-goals-builder">
              <div class="panel-heading panel-heading-compact">
                <h3>Goal Boards</h3>
              </div>

              <div class="controls controls-goals">
                <label>
                  Goal Title
                  <input id="goalTitleInput" type="text" placeholder="All Gengars" maxlength="50" />
                </label>

                <label>
                  Goal Type
                  <select id="goalTypeSelect">
                    <option value="pokemon">Pokemon Name</option>
                    <option value="set">Entire Set</option>
                    <option value="custom">Custom Search</option>
                  </select>
                </label>

                <label>
                  Keyword
                  <input id="goalKeywordInput" type="text" placeholder="Gengar" maxlength="40" />
                </label>

                <label>
                  Set (optional)
                  <select id="goalSetSelect">
                    <option value="">All sets</option>
                  </select>
                </label>

                <button id="addGoalBtn" type="button">Add Goal Board</button>
              </div>

              <div id="goalGrid" class="goal-grid"></div>
            </section>

            <div class="binder-legacy" hidden>
            <div class="controls controls-binder-manager" hidden>
              <label>
                Active Binder
                <select id="binderPicker"></select>
              </label>

              <button id="addBinderBtn" type="button">New Binder</button>
              <button id="renameBinderBtn" type="button" class="ghost-btn">Rename</button>
              <button id="deleteBinderBtn" type="button" class="ghost-btn">Delete</button>
              <button id="clearBinder" type="button" class="ghost-btn">Clear Active Binder</button>
            </div>

            <div class="controls controls-binder">
              <label>
                Collection
                <select id="binderCollectionPreset">
                  <option value="all_set">All Cards (By Set)</option>
                  <option value="pokemon_151">Pokemon 151</option>
                  <option value="mega">Mega Evolutions</option>
                </select>
              </label>

              <label>
                Set
                <select id="binderCollectionSet">
                  <option value="">Choose a set</option>
                </select>
              </label>

              <label>
                Search binder
                <input
                  id="binderSearch"
                  type="search"
                  placeholder="Name, set, or notes"
                />
              </label>

              <label>
                Sort binder
                <select id="binderSort">
                  <option value="number_asc">Card Number</option>
                  <option value="name_asc">Name A-Z</option>
                  <option value="name_desc">Name Z-A</option>
                  <option value="value_desc">Highest Value</option>
                  <option value="updated_desc">Recently Updated</option>
                  <option value="date_obtained_desc">Newest Obtained</option>
                </select>
              </label>

              <label>
                Condition
                <select id="binderCondition">
                  <option value="">All conditions</option>
                  <option value="Mint">Mint</option>
                  <option value="Near Mint">Near Mint</option>
                  <option value="Lightly Played">Lightly Played</option>
                  <option value="Moderately Played">Moderately Played</option>
                  <option value="Heavily Played">Heavily Played</option>
                  <option value="Damaged">Damaged</option>
                </select>
              </label>
            </div>

            <div id="binderList" class="binder-grid"></div>
            </div>
          </section>
        </section>

        <section id="view-inventory" class="view" aria-label="Inventory">
          <section class="panel panel-inventory">
            <div class="panel-heading">
              <h2>Inventory</h2>
              <p id="inventoryMeta"></p>
            </div>

            <div class="controls controls-inventory">
              <label>
                Search
                <input
                  id="inventorySearch"
                  type="search"
                  placeholder="Name or set"
                />
              </label>

              <label>
                Sort
                <select id="inventorySort">
                  <option value="qty_desc">Quantity High-Low</option>
                  <option value="qty_asc">Quantity Low-High</option>
                  <option value="value_desc">Highest Value</option>
                  <option value="name_asc">Name A-Z</option>
                  <option value="name_desc">Name Z-A</option>
                  <option value="newest">Recently Added</option>
                </select>
              </label>

              <label>
                Filter Rarity
                <select id="inventoryRarityFilter">
                  <option value="">All rarities</option>
                </select>
              </label>
            </div>

            <div id="inventoryList" class="inventory-list"></div>
          </section>
        </section>

        <section id="view-developer" class="view" aria-label="About Developer">
          <section class="panel panel-developer">
            <div class="panel-heading">
              <h2>about the dev</h2>
            </div>

            <div class="developer-layout">
              <button id="developerCard" type="button" class="developer-card developer-flip-card" aria-label="Flip developer card">
                <div class="developer-card-inner">
                  <div class="developer-card-face developer-card-front">
                    <img src="/me.png" alt="Developer" class="developer-card-art" draggable="false" />
                  </div>
                  <div class="developer-card-face developer-card-back">
                    <img src="/cardback.jpg" alt="Pokemon card back" class="developer-card-back-art" draggable="false" />
                  </div>
                </div>

                <div class="developer-hover-details" aria-hidden="true">
                  <h3>yawn</h3>
                  <div class="developer-hover-rows">
                    <p class="developer-hover-row">
                      <span class="developer-hover-icon" aria-hidden="true">ðŸ“·</span>
                      <span class="developer-hover-value">xfian.el</span>
                    </p>
                    <p class="developer-hover-row">
                      <span class="developer-hover-icon" aria-hidden="true">ðŸ’¬</span>
                      <span class="developer-hover-value">yzzum1001001</span>
                    </p>
                    <p class="developer-hover-row">
                      <span class="developer-hover-icon" aria-hidden="true">âœ‰</span>
                      <span class="developer-hover-value">ceslacandula@gmail.com</span>
                    </p>
                    <p class="developer-hover-support">buy me a coffee</p>
                    <p class="developer-hover-row">
                      <span class="developer-hover-icon" aria-hidden="true">â˜•</span>
                      <span class="developer-hover-value">gcash 09516834107</span>
                    </p>
                  </div>
                </div>
              </button>
            </div>
          </section>
        </section>

        <section id="view-pokedex" class="view" aria-label="Pokecards">
          <section class="panel panel-pokedex">
            <div class="panel-heading">
              <h2>Pokecards</h2>
              <p id="pokedexMeta">Loading Pokecards...</p>
            </div>

            <div class="controls controls-pokedex">
              <label>
                Search Pokecards
                <input
                  id="pokedexSearch"
                  type="search"
                  placeholder="Try Pikachu, Charizard..."
                />
              </label>

              <label>
                Sort Pokecards
                <select id="pokedexSort">
                  <option value="generation_asc">Generation 1 -> Latest</option>
                  <option value="generation_desc">Latest -> Generation 1</option>
                  <option value="name_asc">Name A-Z</option>
                  <option value="name_desc">Name Z-A</option>
                  <option value="rarity_desc">Rarest -> Common</option>
                  <option value="rarity_asc">Common -> Rarest</option>
                  <option value="owned_first">Owned First</option>
                  <option value="missing_first">Missing First</option>
                  <option value="set_newest">Newest Set</option>
                  <option value="set_oldest">Oldest Set</option>
                </select>
              </label>

              <label>
                Show
                <select id="pokedexOwnershipFilter">
                  <option value="all">All Pokemon</option>
                  <option value="owned">Owned Only</option>
                  <option value="missing">Missing Only</option>
                </select>
              </label>
            </div>

            <div id="pokedexLayout" class="pokedex-layout">
              <div id="pokedexGrid" class="pokedex-grid"></div>

              <section id="pokedexGalleryPanel" class="pokedex-gallery-panel" hidden>
                <header class="pokedex-gallery-header">
                  <div>
                    <h3 id="pokedexGalleryTitle">Pokemon Gallery</h3>
                    <p id="pokedexGalleryMeta">Choose an obtained card to set as your Pokecards preview.</p>
                  </div>
                  <button id="pokedexGalleryCloseBtn" type="button" class="ghost-btn">Back</button>
                </header>
                <div id="pokedexGalleryGrid" class="pokedex-gallery-grid"></div>
              </section>
            </div>
          </section>
        </section>

        <section id="view-achievements" class="view" aria-label="Achievements">
          <section class="panel panel-achievements">
            <div class="panel-heading">
              <h2>Achievements</h2>
              <p id="achievementsMeta">Complete Pokecards and set goals to unlock badges.</p>
            </div>

            <section class="achievement-section">
              <div class="panel-heading panel-heading-compact">
                <h3>Pokemon Mastery Badges</h3>
              </div>
              <div id="achievementBadgeGrid" class="achievement-badge-grid"></div>
            </section>

            <section class="achievement-section">
              <div class="panel-heading panel-heading-compact">
                <h3>Special Achievements</h3>
              </div>
              <div id="achievementSpecialGrid" class="achievement-special-grid"></div>
            </section>
          </section>
        </section>

        <section id="view-finder" class="view" aria-label="Card Finder">
          <section class="panel">
            <div class="panel-heading">
              <h2>Card Finder</h2>
            </div>

            <div class="controls controls-finder">
              <label>
                Search Pokemon
                <input
                  id="searchInput"
                  type="search"
                  placeholder="Try Pikachu, Charizard, Eevee..."
                />
              </label>

              <label>
                Pack / Set
                <select id="setFilter">
                  <option value="">All packs</option>
                </select>
              </label>

              <label>
                Sort by
                <select id="sortSelect">
                  <option value="name_asc">Name A-Z</option>
                  <option value="name_desc">Name Z-A</option>
                  <option value="wishlist_first">Wishlist First</option>
                  <option value="hp_desc">Highest HP</option>
                  <option value="hp_asc">Lowest HP</option>
                  <option value="newest">Newest Set</option>
                  <option value="oldest">Oldest Set</option>
                </select>
              </label>
            </div>

            <div class="result-bar">
              <p id="resultMeta">Loading cards...</p>
              <div class="pager">
                <button id="prevPage" type="button">Previous</button>
                <span id="pageInfo">Page 1</span>
                <button id="nextPage" type="button">Next</button>
              </div>
            </div>

            <div id="cardGrid" class="card-grid"></div>
          </section>
        </section>

        <section id="view-gacha" class="view" aria-label="Gacha Draw">
          <section class="panel panel-gacha">
            <div class="panel-heading">
              <h2>Booster Gacha</h2>
            </div>

            <div class="controls controls-gacha">
              <div class="gacha-pack-picker-field">
                <p class="gacha-pack-picker-title">Choose Pack Set</p>
                <div
                  id="gachaPackPicker"
                  class="gacha-pack-picker"
                  role="listbox"
                  aria-label="Choose pack set"
                ></div>
              </div>
            </div>

            <div id="gachaPopout" class="gacha-popout" aria-hidden="true">
              <div id="gachaPopoutBackdrop" class="gacha-popout-backdrop" data-close-gacha-popout></div>
              <section
                id="gachaPopoutPanel"
                class="gacha-popout-panel is-info-hidden"
                role="dialog"
                aria-modal="true"
                aria-label="Open selected booster pack"
              >
                <div class="gacha-popout-layout">
                  <div class="gacha-stage">
                    <button id="gachaPackCard" class="gacha-pack" type="button">
                      <div class="gacha-pack-visual" aria-hidden="true">
                        <img id="gachaPackArt" class="gacha-pack-art" alt="Booster pack art" />
                        <img id="gachaPackLogo" class="gacha-pack-logo" alt="Pack logo" />
                      </div>

                      <div id="gachaCutLayer" class="gacha-cut-layer">
                        <svg id="gachaCutSvg" preserveAspectRatio="none">
                          <path id="gachaCutGuideRail" class="gacha-cut-guide-rail" d=""></path>
                          <path id="gachaCutGuidePath" class="gacha-cut-guide" d=""></path>
                          <path id="gachaCutPath" class="gacha-cut-path" d=""></path>
                        </svg>
                        <p class="gacha-cut-hint">OPEN PACK</p>
                      </div>
                    </button>
                    <div class="gacha-pack-meta">
                      <p id="gachaPackSeries" class="gacha-pack-series"></p>
                      <p id="gachaPackName" class="gacha-pack-name"></p>
                      <p class="gacha-pack-cta">Cut to open</p>
                    </div>
                    <p id="gachaStatus" class="gacha-status">Pick a set, then open a pack.</p>

                    <div class="gacha-bounce-wrap">
                      <div
                        id="gachaBounceCards"
                        class="bounceCardsContainer"
                        role="listbox"
                        aria-label="Choose one pack"
                      ></div>
                      <p id="gachaBounceLabel" class="gacha-bounce-label">Choose 1 out of 7 packs</p>
                    </div>
                  </div>

                  <button
                    id="gachaInfoToggleBtn"
                    class="gacha-info-toggle"
                    type="button"
                    aria-label="Show odds"
                    aria-pressed="false"
                  >
                    Odds
                  </button>

                  <aside id="gachaPopoutInfo" class="gacha-popout-info" aria-label="Pack possible contents">
                    <div id="gachaContentsPreview" class="gacha-contents-preview"></div>
                  </aside>

                  <section id="gachaDrawReview" class="gacha-draw-review" aria-label="Draw review" hidden>
                    <header class="gacha-draw-review-header">
                      <h3>Draw Review</h3>
                      <p id="gachaDrawReviewMeta">Review your pulled cards.</p>
                    </header>
                    <div id="gachaResult" class="gacha-result"></div>
                    <div class="gacha-draw-review-actions">
                      <button id="gachaAddToBinderBtn" type="button">
                        Add to Binder
                      </button>
                    </div>
                  </section>
                </div>
              </section>
            </div>

          </section>
        </section>
      </main>
    </div>

    <template id="emptyStateTemplate">
      <div class="empty-state">
        <p>No cards found. Try another search or set.</p>
      </div>
    </template>

    <div id="cardModal" class="card-modal" aria-hidden="true">
      <div class="card-modal-backdrop" data-close-modal></div>
      <section class="card-float" role="dialog" aria-modal="true" aria-label="Card preview">
        <div id="modalTiltStage" class="tilt-stage">
          <div id="modalTiltCard" class="tilt-card">
            <div id="modalFlipCard" class="modal-flip-card is-revealed">
              <div class="modal-card-face modal-card-back">
                <img
                  id="modalCardBackImage"
                  src="/cardback.jpg"
                  alt="Pokemon card back"
                  draggable="false"
                />
              </div>
              <div class="modal-card-face modal-card-front">
                <img
                  id="modalCardFrontImage"
                  src=""
                  alt="Pokemon card preview"
                  draggable="false"
                />
              </div>
            </div>
            <div id="modalNextCard" class="modal-next-card" hidden>
              <img
                id="modalNextCardImage"
                src=""
                alt="Next card preview"
                draggable="false"
              />
            </div>
          </div>
        </div>
        <p id="modalHint" class="float-hint">Hold and drag to tilt. Press Esc to close.</p>
        <div id="modalRevealInfo" class="modal-reveal-info" hidden>
          <p id="modalRevealCounter" class="modal-reveal-counter"></p>
          <p id="modalRevealRarity" class="modal-reveal-rarity"></p>
        </div>
      </section>
    </div>

    <script src="/app.js"></script>
  </body>
</html>
